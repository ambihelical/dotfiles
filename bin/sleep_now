#!/bin/bash

if [[ $EUID -ne 0 ]]; then
	echo "This script must be run with root privilegs" 1>&2
	exit 1
fi
locker="true"
sleeper="echo mem > /sys/power/state"
#i3lock is thwarted by pam_securetty not finding a tty
#i3lock_path=$(type -P "i3lock")
#[ ${i3lock_path} ] && locker="${i3lock_path} -d"
if [ $(type -P "pm-suspend") ]; then
	sleeper=$(type -P "pm-suspend")
fi
${locker} && ${sleeper}
